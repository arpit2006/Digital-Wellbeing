<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Quiz - Digital Well-Being</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header class="site-header">
    <div class="brand">
      <span class="logo" aria-hidden="true">ðŸ“µ</span>
      <h1>Quiz</h1>
    </div>
    <button class="menu-toggle" id="menuToggle" aria-label="Toggle menu" type="button">â˜°</button>
    <nav class="site-nav" id="siteNav">
      <a href="index.html">Home</a>
      <a href="games.html">Games</a>
      <a href="quiz.html" class="active">Quiz</a>
      <a href="resources.html">Resources</a>
      <a href="dashboard.html">Dashboard</a>
      <span id="nav-username" class="muted hidden"></span>
      <a href="login.html" id="nav-auth">Login / Register</a>
      <button id="nav-logout" class="btn-link hidden" type="button">Logout</button>
    </nav>
  </header>

  <main class="games-container">
    <section class="gate" id="gate">
      <h2>Login Required</h2>
      <p>You must be logged in to access the quiz.</p>
      <a class="cta" href="login.html">Go to Login</a>
    </section>

    <section class="content hidden" id="content">
      <div class="cards">
        <article class="card quiz-card" style="grid-column:1/-1;max-width:820px;margin:0 auto;width:100%">
          <h3>Age-based Quiz</h3>
          <p class="muted">Select your age group to begin. Questions adapt to your stage.</p>
          <div class="progress" aria-hidden="true"><div class="bar" id="quizProgress"></div></div>
          <form id="ageForm" class="row" style="gap:8px;">
            <label><input type="radio" name="ageGroup" value="kid" required /> Under 13</label>
            <label><input type="radio" name="ageGroup" value="teen" /> 13â€“18</label>
            <label><input type="radio" name="ageGroup" value="adult" /> 19+</label>
            <button class="cta small" type="submit">Start Quiz</button>
          </form>
          <form id="quizForm" class="quiz" style="display:none"></form>
          <div id="quizResult" class="quiz-result-container" style="display:none">
            <div class="quiz-result-content">
              <div class="quiz-score-wrapper">
                <div class="score-circle-container">
                  <svg class="score-circle" viewBox="0 0 120 120">
                    <circle class="score-circle-bg" cx="60" cy="60" r="54"></circle>
                    <circle class="score-circle-progress" id="scoreCircleProgress" cx="60" cy="60" r="54"></circle>
                  </svg>
                  <div class="score-percentage" id="scorePercentage"></div>
                </div>
                <div class="score-fraction" id="scoreFraction"></div>
              </div>
              <div class="quiz-message" id="quizMessage"></div>
              <div class="quiz-details" id="quizDetails"></div>
              <div class="quiz-recommendations" id="quizRecommendations" style="display:none">
                <h4 class="recommendations-title">ðŸ’¡ Recommendations</h4>
                <ul class="recommendations-list" id="recommendationsList"></ul>
              </div>
              <div class="quiz-stats" id="quizStats" style="display:none">
                <div class="stat-item">
                  <span class="stat-label">Questions Answered</span>
                  <span class="stat-value" id="statQuestions"></span>
                </div>
                <div class="stat-item">
                  <span class="stat-label">Average Response</span>
                  <span class="stat-value" id="statAverage"></span>
                </div>
                <div class="stat-item">
                  <span class="stat-label">Risk Level</span>
                  <span class="stat-value" id="statRiskLevel"></span>
                </div>
              </div>
              <div class="quiz-actions">
                <button class="cta" id="retakeQuiz">Take Quiz Again</button>
                <button class="cta secondary" id="shareResults" style="margin-top:12px">Share Results</button>
              </div>
            </div>
            <canvas id="confettiCanvas" class="confetti-canvas"></canvas>
          </div>
        </article>
      </div>
    </section>
  </main>

  <footer class="site-footer">
    <small>Â© <span id="year"></span> Digital Well-Being.</small>
  </footer>

  <script src="script.js"></script>
  <script>
    window.addEventListener('DOMContentLoaded', function () {
      const year = document.getElementById('year');
      if (year) year.textContent = new Date().getFullYear();
      gateContent();
      initAuthNav();
      renderProfile();
      bindQuiz();
    });
  </script>
</body>
</html>


